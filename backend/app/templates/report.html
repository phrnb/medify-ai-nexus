
{% extends "base.html" %}

{% block title %}{{ report.title }} - Medify AI Nexus{% endblock %}

{% block content %}
<div class="header">
    <h1>{{ report.title }}</h1>
    <p>Report ID: {{ report.id }}</p>
    <p>Status: {{ report.status }}</p>
</div>

<div class="patient-info">
    <h2>Patient Information</h2>
    <table>
        <tr><th>Name</th><td>{{ patient.name }}</td></tr>
        <tr><th>MRN</th><td>{{ patient.mrn }}</td></tr>
        <tr><th>Gender</th><td>{{ patient.gender }}</td></tr>
        <tr><th>Date of Birth</th><td>{{ patient.date_of_birth }}</td></tr>
        <tr><th>Age</th><td>{{ patient.age }}</td></tr>
    </table>
</div>

<div class="report-content">
    <h2>Report Content</h2>
    {{ report.content|safe }}
</div>

{% if analysis %}
<div class="analysis-info">
    <h2>Analysis Information</h2>
    <table>
        <tr><th>AI Diagnosis</th><td>{{ analysis.ai_diagnosis }}</td></tr>
        <tr><th>Doctor Diagnosis</th><td>{{ analysis.doctor_diagnosis }}</td></tr>
        <tr><th>Confidence</th><td>{{ analysis.confidence }}</td></tr>
        <tr><th>Severity</th><td>{{ analysis.severity }}</td></tr>
    </table>
</div>
{% endif %}

<div class="footer">
    <p>Generated by: {{ doctor.name }}, {{ doctor.specialty }}</p>
    <p>Created: {{ created_at }}</p>
    {% if updated_at %}<p>Updated: {{ updated_at }}</p>{% endif %}
    {% if finalized_at %}<p>Finalized: {{ finalized_at }}</p>{% endif %}
</div>
{% endblock %}
